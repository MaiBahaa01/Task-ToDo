<app-navbar></app-navbar>
<div class="container mt-4">
    <h2 class="text-center mb-4">Live Todo List</h2>
    
    <!-- Filter Section -->
    <div class=" mb-3 d-flex w-100">
        <div class="col-md-3">
            <input type="text" class="form-control" placeholder="Filter by ID" [(ngModel)]="filterId" (input)="applyFilters()">
        </div>
        <div class="col-md-3">
            <input type="text" class="form-control" placeholder="Filter by Title" [(ngModel)]="filterTitle" (input)="applyFilters()">
        </div>
        <div class="col-md-3">
            <select class="form-control" [(ngModel)]="filterCompleted" (change)="applyFilters()">
                <option value="">All</option>
                <option value="true">Completed</option>
                <option value="false">Pending</option>
            </select>
        </div>
        <div class="col-md-3">
            <input type="text" class="form-control" placeholder="Filter by UserID" [(ngModel)]="filterUserId" (input)="applyFilters()">
        </div>
        <button class="btn btn-secondary mt-0 m-3" (click)="resetFilters()">Reset</button>
    </div>
    
    <!-- Todo Table -->
    <table class="table table-striped table-hover">
      <thead class="thead-dark">
        <tr>
          <th scope="col">ID</th>
          <th scope="col">Title</th>
          <th scope="col">Completed</th>
          <th scope="col">UserID</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let todo of filteredTodos">
          <td>{{ todo.id }}</td>
          <td>{{ todo.title }}</td>
          <td>
            <span class="badge bg-success" *ngIf="todo.completed">True</span>
            <span class="badge bg-warning" *ngIf="!todo.completed">False</span>
          </td>
          <td>{{ todo.userId }}</td>
        </tr>
      </tbody>
    </table>
  
    <!-- Pagination Controls -->
    <div class="d-flex justify-content-between align-items-center">
      <button class="btn btn-primary" (click)="onPageChange(pageNumber - 1)" [disabled]="pageNumber === 1">
        Previous
      </button>
      
      <span>Page {{ pageNumber }} of {{ totalPages }}</span>
      
      <button class="btn btn-primary" (click)="onPageChange(pageNumber + 1)" [disabled]="pageNumber === totalPages">
        Next
      </button>
    </div>
</div>
